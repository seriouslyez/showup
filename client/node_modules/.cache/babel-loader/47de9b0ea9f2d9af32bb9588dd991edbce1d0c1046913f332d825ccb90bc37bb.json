{"ast":null,"code":"import _slicedToArray from \"/Users/ayzo/cs178/project/showup/showup/showup/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar _jsxFileName = \"/Users/ayzo/cs178/project/showup/showup/showup/client/src/components/Home.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport Dashboard from \"../components/Dashboard\";\nimport EventNav from \"../components/EventNav\";\nimport Stack from '@mui/material/Stack';\n// import emails from \"../data/emails.json\"\nimport axios from 'axios';\nimport { eventsContext } from '../components/EventsContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Home() {\n  _s();\n  var events = [];\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    response = _useState2[0],\n    setResponse = _useState2[1];\n  var loadResponse = function loadResponse(prompt, id, prop) {\n    axios.post(\"/chat\", {\n      prompt: prompt\n    }).then(function (res) {\n      var apidata = res.data[0];\n      apidata[\"id\"] = id;\n      apidata[\"body\"] = body;\n      events.push(apidata);\n      setResponse(events);\n    }).catch(function (err) {\n      console.error(err);\n    });\n  };\n  var prompt = \"Return just a valid JSON array of objects for this email\\n    'Dear Lowell,\\n\\n    The Harvard Film Archive's student group is hosting one last screening this semester. This last film comes from Brazil and is probably one you'll never be able to see elsewhere. Here are some more details + a synopsis. Hope to see you there (it's a great way to try out one of Harvard's greatest free-for-students resources, the Film Archive)!\\n    \\n    --\\n    \\n    Dear Cinematheque enthusiasts,\\n    \\n    This Saturday, May 6th at 7pm, come watch the Brazilian film Fogar\\xE9u (2022) at the Harvard Film Archive (located in the basement of the Carpenter Center). It's a remarkable debut film that you likely won't see anywhere else! Tickets are free with HUID and can be reserved here. This will be the last Student Cinematheque screening of the year.\\n\\n    Synopsis: On the frontier between the real and the fantastic, the colonial times and the overwhelming modernity of agribusiness, the town of Goi\\xE1s is the stage where the young Fernanda is faced with secrets about her past. Following the death of her foster mother, she goes back to her wealthy uncle's house to implode certainties and let the painful truth about her origins surface. (From the distributor.)'\\n    following this format:\\n    [{\\u201Cevent\\u201D: \\\"a boolean of whether or not it is promoting an event with a date and location\\u201D,\\n    \\\"name\\\":\\\"Short title for event\\\",\\n    \\u201Cdate\\u201D: \\u201CNumeric Month/Day/2023 of event\\u201D,\\n    \\\"time\\\": \\\"Time of event\\\",\\n    \\u201Clocation\\u201D: \\u201Cthe location of the event\\u201D,\\n    \\u201Csummary\\u201D: \\u201C1- 2 sentence summary of the event\\u201D,\\n    \\u201Ccategory\\u201D: \\u201Cthe best matching category from educational, parties, clubs, or other\\u201D]\";\n  if (response == null) {\n    loadResponse(prompt);\n  }\n  if (response != undefined) {\n    console.log(response);\n  }\n  for (var prop in emails) {\n    // Email hasn't been previously recorded \n    if (events.find(function (elt) {\n      return elt.id == prop;\n    }) == undefined) {\n      // Parse from AI\n      var _prompt = \"Return just a valid JSON array of objects for this email\" + emails[prop][0].text + \"following this format: [{\\u201Cevent\\u201D: \\\"a boolean of whether or not it is promoting an event with a date and location\\u201D,\\n            \\\"name\\\":\\\"Short title for event\\\",\\n            \\u201Cdate\\u201D: \\u201CNumeric Month/Day/2023 of event\\u201D,\\n            \\\"time\\\": \\\"Time of event\\\",\\n            \\u201Clocation\\u201D: \\u201Cthe location of the event\\u201D,\\n            \\u201Csummary\\u201D: \\u201C1- 2 sentence summary of the event\\u201D,\\n            \\u201Ccategory\\u201D: \\u201Cthe best matching category from educational, parties, clubs, or other\\u201D]\";\n      loadResponse(_prompt, id, prop);\n      events.push({\n        id: prop,\n        subject: emails[prop][0].subject,\n        date: date,\n        location: location,\n        body: emails[prop][0].text,\n        summary: summary,\n        category: category,\n        removed: false,\n        favorited: false\n      });\n    }\n  }\n\n  // console.log(events)\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(eventsContext.Provider, {\n      value: [response, setResponse],\n      children: /*#__PURE__*/_jsxDEV(Stack, {\n        direction: \"row\",\n        spacing: 40,\n        children: [/*#__PURE__*/_jsxDEV(EventNav, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Dashboard, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 85,\n    columnNumber: 9\n  }, this);\n}\n_s(Home, \"TM4HGnxieAxLTyBQJEA7E7LlHYI=\");\n_c = Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["React","useEffect","useState","Dashboard","EventNav","Stack","axios","eventsContext","jsxDEV","_jsxDEV","Home","_s","events","_useState","_useState2","_slicedToArray","response","setResponse","loadResponse","prompt","id","prop","post","then","res","apidata","data","body","push","catch","err","console","error","undefined","log","emails","find","elt","text","subject","date","location","summary","category","removed","favorited","children","Provider","value","direction","spacing","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/ayzo/cs178/project/showup/showup/showup/client/src/components/Home.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport Dashboard from \"../components/Dashboard\";\nimport EventNav from \"../components/EventNav\";\nimport Stack from '@mui/material/Stack';\n// import emails from \"../data/emails.json\"\nimport axios from 'axios';\nimport { eventsContext } from '../components/EventsContext';\n\nexport default function Home() {\n    let events = [];\n    const [response, setResponse] = useState(null);\n    const loadResponse = (prompt, id, prop) => {\n        axios\n        .post(\"/chat\", { prompt })\n        .then((res) => {\n            let apidata = res.data[0];\n            apidata[\"id\"] = id;\n            apidata[\"body\"] = body;\n            events.push(apidata);\n            setResponse(events);\n        })\n        .catch((err) => {\n            console.error(err);\n        });\n    };\n\n    let prompt = `Return just a valid JSON array of objects for this email\n    'Dear Lowell,\n\n    The Harvard Film Archive's student group is hosting one last screening this semester. This last film comes from Brazil and is probably one you'll never be able to see elsewhere. Here are some more details + a synopsis. Hope to see you there (it's a great way to try out one of Harvard's greatest free-for-students resources, the Film Archive)!\n    \n    --\n    \n    Dear Cinematheque enthusiasts,\n    \n    This Saturday, May 6th at 7pm, come watch the Brazilian film Fogaréu (2022) at the Harvard Film Archive (located in the basement of the Carpenter Center). It's a remarkable debut film that you likely won't see anywhere else! Tickets are free with HUID and can be reserved here. This will be the last Student Cinematheque screening of the year.\n\n    Synopsis: On the frontier between the real and the fantastic, the colonial times and the overwhelming modernity of agribusiness, the town of Goiás is the stage where the young Fernanda is faced with secrets about her past. Following the death of her foster mother, she goes back to her wealthy uncle's house to implode certainties and let the painful truth about her origins surface. (From the distributor.)'\n    following this format:\n    [{“event”: \"a boolean of whether or not it is promoting an event with a date and location”,\n    \"name\":\"Short title for event\",\n    “date”: “Numeric Month/Day/2023 of event”,\n    \"time\": \"Time of event\",\n    “location”: “the location of the event”,\n    “summary”: “1- 2 sentence summary of the event”,\n    “category”: “the best matching category from educational, parties, clubs, or other”]`\n\n    if (response == null) {\n        loadResponse(prompt);\n    }\n    if (response != undefined) {\n        console.log(response)\n    }\n\n    \n    for (var prop in emails) {\n        // Email hasn't been previously recorded \n        if (events.find((elt) => elt.id == prop) == undefined) {\n            // Parse from AI\n            let prompt = `Return just a valid JSON array of objects for this email`+ emails[prop][0].text + `following this format: [{“event”: \"a boolean of whether or not it is promoting an event with a date and location”,\n            \"name\":\"Short title for event\",\n            “date”: “Numeric Month/Day/2023 of event”,\n            \"time\": \"Time of event\",\n            “location”: “the location of the event”,\n            “summary”: “1- 2 sentence summary of the event”,\n            “category”: “the best matching category from educational, parties, clubs, or other”]`;\n            loadResponse(prompt, id, prop);\n            events.push({\n                id: prop,\n                subject: emails[prop][0].subject,\n                date: date,\n                location: location,\n                body: emails[prop][0].text,\n                summary: summary,\n                category: category,\n                removed: false,\n                favorited: false\n            });\n        }\n    }\n\n    // console.log(events)\n\n    return (\n        <div>\n        {/* <NavBar/> */}\n        <eventsContext.Provider\n            value={[response, setResponse]}>\n        <Stack direction=\"row\" spacing={40}>\n        <EventNav/>\n        <Dashboard/>\n        </Stack>\n        </eventsContext.Provider>\n        </div>\n    );\n}"],"mappings":";;;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,OAAOC,SAAS,MAAM,yBAAyB;AAC/C,OAAOC,QAAQ,MAAM,wBAAwB;AAC7C,OAAOC,KAAK,MAAM,qBAAqB;AACvC;AACA,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,aAAa,QAAQ,6BAA6B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE5D,eAAe,SAASC,IAAIA,CAAA,EAAG;EAAAC,EAAA;EAC3B,IAAIC,MAAM,GAAG,EAAE;EACf,IAAAC,SAAA,GAAgCX,QAAQ,CAAC,IAAI,CAAC;IAAAY,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAAvCG,QAAQ,GAAAF,UAAA;IAAEG,WAAW,GAAAH,UAAA;EAC5B,IAAMI,YAAY,GAAG,SAAfA,YAAYA,CAAIC,MAAM,EAAEC,EAAE,EAAEC,IAAI,EAAK;IACvCf,KAAK,CACJgB,IAAI,CAAC,OAAO,EAAE;MAAEH,MAAM,EAANA;IAAO,CAAC,CAAC,CACzBI,IAAI,CAAC,UAACC,GAAG,EAAK;MACX,IAAIC,OAAO,GAAGD,GAAG,CAACE,IAAI,CAAC,CAAC,CAAC;MACzBD,OAAO,CAAC,IAAI,CAAC,GAAGL,EAAE;MAClBK,OAAO,CAAC,MAAM,CAAC,GAAGE,IAAI;MACtBf,MAAM,CAACgB,IAAI,CAACH,OAAO,CAAC;MACpBR,WAAW,CAACL,MAAM,CAAC;IACvB,CAAC,CAAC,CACDiB,KAAK,CAAC,UAACC,GAAG,EAAK;MACZC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC;IACtB,CAAC,CAAC;EACN,CAAC;EAED,IAAIX,MAAM,swDAmB2E;EAErF,IAAIH,QAAQ,IAAI,IAAI,EAAE;IAClBE,YAAY,CAACC,MAAM,CAAC;EACxB;EACA,IAAIH,QAAQ,IAAIiB,SAAS,EAAE;IACvBF,OAAO,CAACG,GAAG,CAAClB,QAAQ,CAAC;EACzB;EAGA,KAAK,IAAIK,IAAI,IAAIc,MAAM,EAAE;IACrB;IACA,IAAIvB,MAAM,CAACwB,IAAI,CAAC,UAACC,GAAG;MAAA,OAAKA,GAAG,CAACjB,EAAE,IAAIC,IAAI;IAAA,EAAC,IAAIY,SAAS,EAAE;MACnD;MACA,IAAId,OAAM,GAAG,6DAA4DgB,MAAM,CAACd,IAAI,CAAC,CAAC,CAAC,CAAC,CAACiB,IAAI,gkBAMR;MACrFpB,YAAY,CAACC,OAAM,EAAEC,EAAE,EAAEC,IAAI,CAAC;MAC9BT,MAAM,CAACgB,IAAI,CAAC;QACRR,EAAE,EAAEC,IAAI;QACRkB,OAAO,EAAEJ,MAAM,CAACd,IAAI,CAAC,CAAC,CAAC,CAAC,CAACkB,OAAO;QAChCC,IAAI,EAAEA,IAAI;QACVC,QAAQ,EAAEA,QAAQ;QAClBd,IAAI,EAAEQ,MAAM,CAACd,IAAI,CAAC,CAAC,CAAC,CAAC,CAACiB,IAAI;QAC1BI,OAAO,EAAEA,OAAO;QAChBC,QAAQ,EAAEA,QAAQ;QAClBC,OAAO,EAAE,KAAK;QACdC,SAAS,EAAE;MACf,CAAC,CAAC;IACN;EACJ;;EAEA;;EAEA,oBACIpC,OAAA;IAAAqC,QAAA,eAEArC,OAAA,CAACF,aAAa,CAACwC,QAAQ;MACnBC,KAAK,EAAE,CAAChC,QAAQ,EAAEC,WAAW,CAAE;MAAA6B,QAAA,eACnCrC,OAAA,CAACJ,KAAK;QAAC4C,SAAS,EAAC,KAAK;QAACC,OAAO,EAAE,EAAG;QAAAJ,QAAA,gBACnCrC,OAAA,CAACL,QAAQ;UAAA+C,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAC,CAAC,eACX7C,OAAA,CAACN,SAAS;UAAAgD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAC,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACL;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACgB;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACpB,CAAC;AAEd;AAAC3C,EAAA,CAvFuBD,IAAI;AAAA6C,EAAA,GAAJ7C,IAAI;AAAA,IAAA6C,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}