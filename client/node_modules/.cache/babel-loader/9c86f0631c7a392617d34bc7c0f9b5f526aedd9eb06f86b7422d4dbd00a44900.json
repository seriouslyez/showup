{"ast":null,"code":"import _regeneratorRuntime from \"/Users/ayzo/cs178/project/showup/showup/showup/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/ayzo/cs178/project/showup/showup/showup/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _slicedToArray from \"/Users/ayzo/cs178/project/showup/showup/showup/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar _jsxFileName = \"/Users/ayzo/cs178/project/showup/showup/showup/client/src/components/Login.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport Stack from '@mui/material/Stack';\nimport Box from '@mui/material/Box';\nimport TextField from '@mui/material/TextField';\nimport Button from '@mui/material/Button';\nimport Typography from '@mui/material/Typography';\nimport Alert from '@mui/material/Alert';\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar state = {\n  response: '',\n  email: '',\n  password: '',\n  responseToPost: ''\n};\nexport default function Login() {\n  _s();\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    formError = _useState2[0],\n    setFormError = _useState2[1];\n  var navigate = useNavigate();\n  function callApi() {\n    return _callApi.apply(this, arguments);\n  }\n  function _callApi() {\n    _callApi = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      var response, body;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return fetch('/api/hello');\n          case 2:\n            response = _context.sent;\n            _context.next = 5;\n            return response.json();\n          case 5:\n            body = _context.sent;\n            if (!(response.status !== 200)) {\n              _context.next = 8;\n              break;\n            }\n            throw Error(body.message);\n          case 8:\n            return _context.abrupt(\"return\", body);\n          case 9:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee);\n    }));\n    return _callApi.apply(this, arguments);\n  }\n  function handleSubmit(_x) {\n    return _handleSubmit.apply(this, arguments);\n  }\n  function _handleSubmit() {\n    _handleSubmit = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(event) {\n      var data, response, body;\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1) switch (_context2.prev = _context2.next) {\n          case 0:\n            //function handleSubmit(event) {\n            event.preventDefault();\n            data = new FormData(event.currentTarget);\n            _context2.next = 4;\n            return fetch('/api/world', {\n              method: 'POST',\n              headers: {\n                'Content-Type': 'application/json'\n              },\n              body: JSON.stringify({\n                email: state.email,\n                password: state.password\n              })\n            });\n          case 4:\n            response = _context2.sent;\n            _context2.next = 7;\n            return response.text();\n          case 7:\n            body = _context2.sent;\n            state.responseToPost = body;\n            if (data.get('email') != '' && data.get('password') != '') {\n              navigate(\"/home\");\n            } else {\n              setFormError(true);\n            }\n          case 10:\n          case \"end\":\n            return _context2.stop();\n        }\n      }, _callee2);\n    }));\n    return _handleSubmit.apply(this, arguments);\n  }\n  ;\n  useEffect(function () {\n    callApi().then(function (res) {\n      return state.response = res.express;\n    }).catch(function (err) {\n      return console.log(err);\n    });\n  });\n  return /*#__PURE__*/_jsxDEV(Stack, {\n    sx: {\n      mt: \"30vh\"\n    },\n    alignItems: \"center\",\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h2\",\n      children: \"showUP\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      component: \"form\",\n      onSubmit: handleSubmit,\n      noValidate: true,\n      sx: {\n        mt: 1\n      },\n      children: [formError ? /*#__PURE__*/_jsxDEV(Alert, {\n        severity: \"error\",\n        children: \"Please make sure all fields are completed!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 24\n      }, this) : '', /*#__PURE__*/_jsxDEV(TextField, {\n        margin: \"normal\",\n        required: true,\n        fullWidth: true,\n        id: \"email\",\n        label: \"Google Email Address\",\n        name: \"email\",\n        autoFocus: true,\n        onChange: function onChange(e) {\n          return state.email = e.target.value;\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        margin: \"normal\",\n        required: true,\n        fullWidth: true,\n        name: \"password\",\n        label: \"Password\",\n        type: \"password\",\n        id: \"password\",\n        onChange: function onChange(e) {\n          return state.password = e.target.value;\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"submit\",\n        fullWidth: true,\n        variant: \"contained\",\n        sx: {\n          mt: 3,\n          mb: 2\n        },\n        children: \"Sign In\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n}\n_s(Login, \"Gl1NlbHxc0EvO4emUF41SL/HM/Y=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","useEffect","Stack","Box","TextField","Button","Typography","Alert","useNavigate","jsxDEV","_jsxDEV","state","response","email","password","responseToPost","Login","_s","_useState","_useState2","_slicedToArray","formError","setFormError","navigate","callApi","_callApi","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","body","wrap","_callee$","_context","prev","next","fetch","sent","json","status","Error","message","abrupt","stop","handleSubmit","_x","_handleSubmit","_callee2","event","data","_callee2$","_context2","preventDefault","FormData","currentTarget","method","headers","JSON","stringify","text","get","then","res","express","catch","err","console","log","sx","mt","alignItems","children","variant","fileName","_jsxFileName","lineNumber","columnNumber","component","onSubmit","noValidate","severity","margin","required","fullWidth","id","label","name","autoFocus","onChange","e","target","value","type","mb","_c","$RefreshReg$"],"sources":["/Users/ayzo/cs178/project/showup/showup/showup/client/src/components/Login.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Stack from '@mui/material/Stack';\nimport Box from '@mui/material/Box';\nimport TextField from '@mui/material/TextField';\nimport Button from '@mui/material/Button';\nimport Typography from '@mui/material/Typography';\nimport Alert from '@mui/material/Alert';\nimport { useNavigate } from \"react-router-dom\";\n\nlet state = {\n    response: '',\n    email: '',\n    password: '',\n    responseToPost: '',\n  };\n\nexport default function Login() {\n  const [formError, setFormError] = useState(false);\n  const navigate = useNavigate();\n\n  async function callApi () {\n    const response = await fetch('/api/hello');\n    const body = await response.json();\n\n    if (response.status !== 200) throw Error(body.message);\n\n    return body;\n  }\n  async function handleSubmit(event) {\n//function handleSubmit(event) {\n    event.preventDefault();\n    const data = new FormData(event.currentTarget);\n\n    const response = await fetch('/api/world', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({ email: state.email, password: state.password }),\n    });\n    const body = await response.text();\n    \n    state.responseToPost = body;\n\n    if (data.get('email') != '' && data.get('password') != '') {\n      navigate(\"/home\");\n    }\n    else {\n      setFormError(true);\n    }\n  };\n\n  useEffect(() => {\n    callApi()\n      .then(res => state.response = res.express)\n      .catch(err => console.log(err));\n  })\n\n  return (\n    <Stack sx={{mt:\"30vh\"}} alignItems=\"center\">\n    <Typography variant=\"h2\">\n      showUP\n    </Typography>\n    <Box component=\"form\" onSubmit={handleSubmit} noValidate sx={{ mt: 1 }}>\n          {formError ? <Alert severity=\"error\">\n            Please make sure all fields are completed!\n          </Alert> : ''}\n            <TextField\n              margin=\"normal\"\n              required\n              fullWidth\n              id=\"email\"\n              label=\"Google Email Address\"\n              name=\"email\"\n              autoFocus\n              onChange={e => state.email = e.target.value }\n            />\n            <TextField\n              margin=\"normal\"\n              required\n              fullWidth\n              name=\"password\"\n              label=\"Password\"\n              type=\"password\"\n              id=\"password\"\n              onChange={e => state.password = e.target.value}\n            />\n            <Button\n              type=\"submit\"\n              fullWidth\n              variant=\"contained\"\n              sx={{ mt: 3, mb: 2 }}\n            >\n              Sign In\n            </Button>\n    </Box>\n    </Stack>\n  );\n}"],"mappings":";;;;;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,KAAK,MAAM,qBAAqB;AACvC,OAAOC,GAAG,MAAM,mBAAmB;AACnC,OAAOC,SAAS,MAAM,yBAAyB;AAC/C,OAAOC,MAAM,MAAM,sBAAsB;AACzC,OAAOC,UAAU,MAAM,0BAA0B;AACjD,OAAOC,KAAK,MAAM,qBAAqB;AACvC,SAASC,WAAW,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE/C,IAAIC,KAAK,GAAG;EACRC,QAAQ,EAAE,EAAE;EACZC,KAAK,EAAE,EAAE;EACTC,QAAQ,EAAE,EAAE;EACZC,cAAc,EAAE;AAClB,CAAC;AAEH,eAAe,SAASC,KAAKA,CAAA,EAAG;EAAAC,EAAA;EAC9B,IAAAC,SAAA,GAAkClB,QAAQ,CAAC,KAAK,CAAC;IAAAmB,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAA1CG,SAAS,GAAAF,UAAA;IAAEG,YAAY,GAAAH,UAAA;EAC9B,IAAMI,QAAQ,GAAGf,WAAW,EAAE;EAAC,SAEhBgB,OAAOA,CAAA;IAAA,OAAAC,QAAA,CAAAC,KAAA,OAAAC,SAAA;EAAA;EAAA,SAAAF,SAAA;IAAAA,QAAA,GAAAG,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAAtB,SAAAC,QAAA;MAAA,IAAAnB,QAAA,EAAAoB,IAAA;MAAA,OAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA;QAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;UAAA;YAAAF,QAAA,CAAAE,IAAA;YAAA,OACyBC,KAAK,CAAC,YAAY,CAAC;UAAA;YAApC1B,QAAQ,GAAAuB,QAAA,CAAAI,IAAA;YAAAJ,QAAA,CAAAE,IAAA;YAAA,OACKzB,QAAQ,CAAC4B,IAAI,EAAE;UAAA;YAA5BR,IAAI,GAAAG,QAAA,CAAAI,IAAA;YAAA,MAEN3B,QAAQ,CAAC6B,MAAM,KAAK,GAAG;cAAAN,QAAA,CAAAE,IAAA;cAAA;YAAA;YAAA,MAAQK,KAAK,CAACV,IAAI,CAACW,OAAO,CAAC;UAAA;YAAA,OAAAR,QAAA,CAAAS,MAAA,WAE/CZ,IAAI;UAAA;UAAA;YAAA,OAAAG,QAAA,CAAAU,IAAA;QAAA;MAAA,GAAAd,OAAA;IAAA,CACZ;IAAA,OAAAN,QAAA,CAAAC,KAAA,OAAAC,SAAA;EAAA;EAAA,SACcmB,YAAYA,CAAAC,EAAA;IAAA,OAAAC,aAAA,CAAAtB,KAAA,OAAAC,SAAA;EAAA;EAAA,SAAAqB,cAAA;IAAAA,aAAA,GAAApB,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAA3B,SAAAmB,SAA4BC,KAAK;MAAA,IAAAC,IAAA,EAAAvC,QAAA,EAAAoB,IAAA;MAAA,OAAAH,mBAAA,GAAAI,IAAA,UAAAmB,UAAAC,SAAA;QAAA,kBAAAA,SAAA,CAAAjB,IAAA,GAAAiB,SAAA,CAAAhB,IAAA;UAAA;YACnC;YACIa,KAAK,CAACI,cAAc,EAAE;YAChBH,IAAI,GAAG,IAAII,QAAQ,CAACL,KAAK,CAACM,aAAa,CAAC;YAAAH,SAAA,CAAAhB,IAAA;YAAA,OAEvBC,KAAK,CAAC,YAAY,EAAE;cACzCmB,MAAM,EAAE,MAAM;cACdC,OAAO,EAAE;gBACP,cAAc,EAAE;cAClB,CAAC;cACD1B,IAAI,EAAE2B,IAAI,CAACC,SAAS,CAAC;gBAAE/C,KAAK,EAAEF,KAAK,CAACE,KAAK;gBAAEC,QAAQ,EAAEH,KAAK,CAACG;cAAS,CAAC;YACvE,CAAC,CAAC;UAAA;YANIF,QAAQ,GAAAyC,SAAA,CAAAd,IAAA;YAAAc,SAAA,CAAAhB,IAAA;YAAA,OAOKzB,QAAQ,CAACiD,IAAI,EAAE;UAAA;YAA5B7B,IAAI,GAAAqB,SAAA,CAAAd,IAAA;YAEV5B,KAAK,CAACI,cAAc,GAAGiB,IAAI;YAE3B,IAAImB,IAAI,CAACW,GAAG,CAAC,OAAO,CAAC,IAAI,EAAE,IAAIX,IAAI,CAACW,GAAG,CAAC,UAAU,CAAC,IAAI,EAAE,EAAE;cACzDvC,QAAQ,CAAC,OAAO,CAAC;YACnB,CAAC,MACI;cACHD,YAAY,CAAC,IAAI,CAAC;YACpB;UAAC;UAAA;YAAA,OAAA+B,SAAA,CAAAR,IAAA;QAAA;MAAA,GAAAI,QAAA;IAAA,CACF;IAAA,OAAAD,aAAA,CAAAtB,KAAA,OAAAC,SAAA;EAAA;EAAA;EAED1B,SAAS,CAAC,YAAM;IACduB,OAAO,EAAE,CACNuC,IAAI,CAAC,UAAAC,GAAG;MAAA,OAAIrD,KAAK,CAACC,QAAQ,GAAGoD,GAAG,CAACC,OAAO;IAAA,EAAC,CACzCC,KAAK,CAAC,UAAAC,GAAG;MAAA,OAAIC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;IAAA,EAAC;EACnC,CAAC,CAAC;EAEF,oBACEzD,OAAA,CAACR,KAAK;IAACoE,EAAE,EAAE;MAACC,EAAE,EAAC;IAAM,CAAE;IAACC,UAAU,EAAC,QAAQ;IAAAC,QAAA,gBAC3C/D,OAAA,CAACJ,UAAU;MAACoE,OAAO,EAAC,IAAI;MAAAD,QAAA,EAAC;IAEzB;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAAa,eACbpE,OAAA,CAACP,GAAG;MAAC4E,SAAS,EAAC,MAAM;MAACC,QAAQ,EAAElC,YAAa;MAACmC,UAAU;MAACX,EAAE,EAAE;QAAEC,EAAE,EAAE;MAAE,CAAE;MAAAE,QAAA,GAChEpD,SAAS,gBAAGX,OAAA,CAACH,KAAK;QAAC2E,QAAQ,EAAC,OAAO;QAAAT,QAAA,EAAC;MAErC;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAAQ,GAAG,EAAE,eACXpE,OAAA,CAACN,SAAS;QACR+E,MAAM,EAAC,QAAQ;QACfC,QAAQ;QACRC,SAAS;QACTC,EAAE,EAAC,OAAO;QACVC,KAAK,EAAC,sBAAsB;QAC5BC,IAAI,EAAC,OAAO;QACZC,SAAS;QACTC,QAAQ,EAAE,SAAAA,SAAAC,CAAC;UAAA,OAAIhF,KAAK,CAACE,KAAK,GAAG8E,CAAC,CAACC,MAAM,CAACC,KAAK;QAAA;MAAE;QAAAlB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAC7C,eACFpE,OAAA,CAACN,SAAS;QACR+E,MAAM,EAAC,QAAQ;QACfC,QAAQ;QACRC,SAAS;QACTG,IAAI,EAAC,UAAU;QACfD,KAAK,EAAC,UAAU;QAChBO,IAAI,EAAC,UAAU;QACfR,EAAE,EAAC,UAAU;QACbI,QAAQ,EAAE,SAAAA,SAAAC,CAAC;UAAA,OAAIhF,KAAK,CAACG,QAAQ,GAAG6E,CAAC,CAACC,MAAM,CAACC,KAAK;QAAA;MAAC;QAAAlB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAC/C,eACFpE,OAAA,CAACL,MAAM;QACLyF,IAAI,EAAC,QAAQ;QACbT,SAAS;QACTX,OAAO,EAAC,WAAW;QACnBJ,EAAE,EAAE;UAAEC,EAAE,EAAE,CAAC;UAAEwB,EAAE,EAAE;QAAE,CAAE;QAAAtB,QAAA,EACtB;MAED;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAAS;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QACX;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QACE;AAEZ;AAAC7D,EAAA,CAlFuBD,KAAK;EAAA,QAEVR,WAAW;AAAA;AAAAwF,EAAA,GAFNhF,KAAK;AAAA,IAAAgF,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}